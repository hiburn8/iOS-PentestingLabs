//
//  ViewController.m
//  jbdetect
//
//  Created by daniel reece on 08/07/2014.
//  Copyright (c) 2014 ___FULLUSERNAME___. All rights reserved.
//

#import "ViewController.h"

@interface ViewController ()

@end

@implementation ViewController


    /**
    
UIGraphicsBeginImageContextWithOptions(self.view.bounds.size, NO, [UIScreen mainScreen].scale);
     
     [self.view drawViewHierarchyInRect:self.view.bounds afterScreenUpdates:YES];
     
     shot = UIGraphicsGetImageFromCurrentImageContext();
     UIGraphicsEndImageContext();
     
     UIImageWriteToSavedPhotosAlbum(shot, nil, nil, nil);
   

**/

static int h = 0;
static int i = 10;

- (void)viewDidLoad
{
    [super viewDidLoad];
    
    UIAlertView *message = [[UIAlertView alloc] initWithTitle:@"A Futile Game"
                                                      message:@"Timmy ALWAYS wins at tug of war, every time you pull you get weaker and timmy just wins faster"
                                                     delegate:nil
                                            cancelButtonTitle:@":("
                                            otherButtonTitles:nil];
    
    [message show];
    // Do any additional setup after loading the view, typically from a nib.
    

}

    -(IBAction)Button:(id)sender{
        h = 0;
        i = 0;
        [NSTimer scheduledTimerWithTimeInterval:0.2
                                         target:self
                                       selector:@selector(timer:)
                                       userInfo:nil
                                        repeats:YES];
        
    }


    

- (void)didReceiveMemoryWarning
{
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}

- (void)timer:(NSTimer *)timer{
    
    if (h <= 0){
        if (self.view.backgroundColor != [UIColor redColor]){
            self.view.backgroundColor = [UIColor redColor];
        }
    }
    else {
        self.view.backgroundColor = [UIColor greenColor];
        }
    
    
    UIView *aView = [self.view viewWithTag:3];
    [aView removeFromSuperview];
    
    h = i / sin(10/2);
    NSLog(@"%i",h);
    
    if (h <= -150){
                self.view.backgroundColor = [UIColor whiteColor];
               [timer invalidate];
        //timer = nil;
        
    }
    else if (h >= 150){
        self.view.backgroundColor = [UIColor whiteColor];
        [timer invalidate];
        
        UIAlertView *congrats = [[UIAlertView alloc] initWithTitle:@"Contratulations!"
                                                          message:@"No idea how you did it, but you beat Timmy!"
                                                         delegate:nil
                                                cancelButtonTitle:@"Flag: 7UG0W4Ri$myBagBaby"
                                                otherButtonTitles:nil];
        
        [congrats show];
        
    }
    else{
    
    
    
    UIImageView *dot =[[UIImageView alloc] initWithFrame:CGRectMake(-50,h,400,600)];
    dot.image=[UIImage imageNamed:@"war.png"];
    dot.tag = 3;
    [self.view addSubview:dot];
    i--;
    }
}

@end
